---
const navItems = [
  { href: '/', label: 'Home' },
  { href: '/about-home-theor-net', label: 'Site' },
  { href: '/me', label: 'Me' },
  { href: '/projects', label: 'Projects' },
  { href: '/blog', label: 'Blog' },
  { href: '/contact', label: 'Contact' },
  { href: '/graph', label: 'Graph' },
];

const currentPath = Astro.url.pathname;
---

<header class="header">
  <nav class="header-nav">
    <a href="/" class="site-logo">
      <img src="/cue-256x256-home-theor-net.png" alt="" class="logo-icon" />
      <span class="logo-text">TheoR.net</span>
    </a>
    
    <div class="nav-links">
      {navItems.map((item) => (
        <a 
          href={item.href} 
          class:list={['nav-link', { active: currentPath === item.href || (item.href !== '/' && currentPath.startsWith(item.href)) }]}
        >
          {item.label}
        </a>
      ))}
      
      <button type="button" class="search-trigger" aria-label="Search" data-search-open>
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8" />
          <path d="m21 21-4.35-4.35" />
        </svg>
        <span class="search-shortcut">âŒ˜K</span>
      </button>
    </div>
  </nav>
</header>

<style>
  .header {
    position: sticky;
    top: 0;
    z-index: 100;
    background-color: var(--color-bg);
      border-bottom: 1px solid var(--color-border);
  }

  .header-nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    max-width: var(--width-page);
    margin: 0 auto;
    padding: theme(spacing.2) theme(spacing.4);
  }

  .site-logo {
    display: flex;
    align-items: center;
    gap: theme(spacing.2);
    font-weight: 700;
    color: var(--color-text);
    text-decoration: none;
  }

  .site-logo:hover {
    color: var(--color-link);
  }

  .logo-icon {
    width: 1.25rem;
    height: 1.25rem;
    display: block;
  }

  .nav-links {
    display: flex;
    align-items: center;
    gap: theme(spacing.4);
  }

  .nav-link {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    text-decoration: none;
  }

  .nav-link:hover {
    color: var(--color-link);
  }

  .nav-link.active {
    color: var(--color-text);
    font-weight: 700;
  }

  .search-trigger {
    display: flex;
    align-items: center;
    gap: theme(spacing.1);
    padding: theme(spacing.1) theme(spacing.2);
    font-size: 0.875rem;
    color: var(--color-text-muted);
    background: none;
    border: 1px solid var(--color-border);
    cursor: pointer;
  }

  .search-trigger:hover {
    color: var(--color-text);
    border-color: var(--color-text-muted);
  }

  .search-shortcut {
    font-size: 0.75rem;
    color: var(--color-text-subtle);
  }

  @media (width <= 640px) {
    .header-nav {
      padding: theme(spacing.2) theme(spacing.2);
    }

    .logo-text {
      display: none;
    }

    .search-shortcut {
      display: none;
    }
  }
</style>
