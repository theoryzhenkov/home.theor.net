---
const navItems = [
  { href: '/', label: 'Home' },
  { href: '/about', label: 'About' },
  { href: '/me', label: 'Me' },
  { href: '/projects', label: 'Projects' },
  { href: '/blog', label: 'Blog' },
  { href: '/contact', label: 'Contact' },
];

const currentPath = Astro.url.pathname;
---

<header class="header">
  <nav class="header-nav">
    <a href="/" class="site-logo">
      <span class="logo-text">TheoR.net</span>
    </a>
    
    <div class="nav-links">
      {navItems.map((item) => (
        <a 
          href={item.href} 
          class:list={['nav-link', { active: currentPath === item.href || (item.href !== '/' && currentPath.startsWith(item.href)) }]}
        >
          {item.label}
        </a>
      ))}
      
      <button type="button" class="search-trigger" aria-label="Search" data-search-open>
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8" />
          <path d="m21 21-4.35-4.35" />
        </svg>
        <span class="search-shortcut">âŒ˜K</span>
      </button>
    </div>
  </nav>
</header>

<style>
  .header {
    position: sticky;
    top: 0;
    z-index: 100;
    background-color: var(--color-bg);
    border-bottom: 1px solid var(--color-border-subtle);
  }

  .header-nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    max-width: var(--width-page);
    margin: 0 auto;
    padding: theme(spacing.4) theme(spacing.8);
  }

  .site-logo {
    display: flex;
    align-items: center;
    gap: theme(spacing.2);
    font-family: var(--font-sans);
    font-size: theme(fontSize.lg);
    font-weight: 600;
    color: var(--color-text);
    text-decoration: none;
    transition: color var(--transition-duration-fast) var(--ease-out);
  }

  .site-logo:hover {
    color: var(--color-accent);
  }

  .logo-symbol {
    font-size: theme(fontSize.2xl);
    color: var(--color-accent);
  }

  .nav-links {
    display: flex;
    align-items: center;
    gap: theme(spacing.6);
  }

  .nav-link {
    font-family: var(--font-sans);
    font-size: theme(fontSize.sm);
    font-weight: 500;
    color: var(--color-text-muted);
    text-decoration: none;
    transition: color var(--transition-duration-fast) var(--ease-out);
  }

  .nav-link:hover,
  .nav-link.active {
    color: var(--color-accent);
  }

  .search-trigger {
    display: flex;
    align-items: center;
    gap: theme(spacing.2);
    padding: theme(spacing.2) theme(spacing.3);
    font-family: var(--font-sans);
    font-size: theme(fontSize.sm);
    color: var(--color-text-muted);
    background-color: var(--color-bg-subtle);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    cursor: pointer;
    transition: color var(--transition-duration-fast) var(--ease-out),
                border-color var(--transition-duration-fast) var(--ease-out);
  }

  .search-trigger:hover {
    color: var(--color-text);
    border-color: var(--color-accent);
  }

  .search-shortcut {
    font-size: theme(fontSize.xs);
    color: var(--color-text-subtle);
  }

  @media (width <= 640px) {
    .header-nav {
      padding: theme(spacing.3) theme(spacing.4);
    }

    .logo-text {
      display: none;
    }

    .search-shortcut {
      display: none;
    }
  }
</style>
